(function(a){a.fn.extend({simpleSwitch:function(){this.each(function(){var e=a(this);e.addClass("simple-switch");var d=e.prop("outerHTML"),c="";c+='<label class="simple-switch-outter">';c+=d;c+='<span class="simple-switch-circle"></span></label>';e.replaceWith(c)});a(".simple-switch").each(function(){var f=a(this);b(f);f.click(function(){b(a(this))});var c={x:0,y:0},d={x:0,y:0};var e=f.parent().find(".simple-switch-circle").get(0);e.addEventListener("touchstart",function(g){c={x:g.changedTouches[0].pageX,y:g.changedTouches[0].pageY}},false);e.addEventListener("touchmove",function(g){g.preventDefault();d={x:g.changedTouches[0].pageX,y:g.changedTouches[0].pageY}},false);e.addEventListener("touchend",function(g){d={x:g.changedTouches[0].pageX,y:g.changedTouches[0].pageY};if(d.x!=c.x){f.trigger("click")}c={x:0,y:0},d={x:0,y:0}},false)});function b(e){var c=e,d=c.prop("checked");if(d){c.attr("data-switch",true);c.parent().removeClass("unchecked").addClass("checked")}else{c.attr("data-switch",false);c.parent().removeClass("checked").addClass("unchecked")}}}})})(jQuery);