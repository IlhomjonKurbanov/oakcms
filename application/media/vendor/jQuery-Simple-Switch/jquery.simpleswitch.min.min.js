(function(b){b.fn.extend({simpleSwitch:function(){this.each(function(){var f=b(this);f.addClass("simple-switch");var g=f.prop("outerHTML"),h="";h+='<label class="simple-switch-outter">';h+=g;h+='<span class="simple-switch-circle"></span></label>';f.replaceWith(h)});b(".simple-switch").each(function(){var g=b(this);a(g);g.click(function(){a(b(this))});var j={x:0,y:0},i={x:0,y:0};var h=g.parent().find(".simple-switch-circle").get(0);h.addEventListener("touchstart",function(c){j={x:c.changedTouches[0].pageX,y:c.changedTouches[0].pageY}},false);h.addEventListener("touchmove",function(c){c.preventDefault();i={x:c.changedTouches[0].pageX,y:c.changedTouches[0].pageY}},false);h.addEventListener("touchend",function(c){i={x:c.changedTouches[0].pageX,y:c.changedTouches[0].pageY};if(i.x!=j.x){g.trigger("click")}j={x:0,y:0},i={x:0,y:0}},false)});function a(f){var h=f,g=h.prop("checked");if(g){h.attr("data-switch",true);h.parent().removeClass("unchecked").addClass("checked")}else{h.attr("data-switch",false);h.parent().removeClass("checked").addClass("unchecked")}}}})})(jQuery);